/* ---------------- Basis Einstellungen --------------- */
@import url("https://fonts.googleapis.com/css2?family=Chewy&display=swap");

/* -------------------- Grundaufbau ------------------------ */
:root{
  --rot:#E20E1A;
  --dunkel:#242121;
  --weiss:#fff;
  --header-h:13rem; /* Header-Höhe (Laptop/Default) */
  --intro-nudge-x:0px;
  --intro-nudge-y:0px;
}

*{ box-sizing:border-box; }

html,body{
  margin:0;
  min-height:100%;
}

body{
  font-family:"Chewy",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  color:var(--weiss);
  background:var(--weiss);
}

/* verhindert Interaktion während Intro */
body.intro-active .header,
body.intro-active .podium,
body.intro-active #bg-video{
  opacity:0;
  pointer-events:none;
}

/* -------------------- Intro ------------------------ */

/* Fulllscreen Intro Overlay*/
#energy-intro{
  position:fixed;
  inset:0;
  background:#E20E1A;
  z-index:100000;
  display:grid;
  place-items:center;
}

/*Container für Logo und Strahlen*/
.energy-intro-inner{
  position:relative;
  width:min(70vw,22rem); /* responsive aber begrenzt*/
  aspect-ratio:1/1; /* quadratisch*/
  display:grid;
  place-items:center;
}

/*Container für animierte Strahlen*/
.energy-rays{
  position:absolute;
  inset:0;
  pointer-events:none;
  z-index:1;
}

/*einzelne unterschiedliche Strahlen*/
.energy-rays span{
  position:absolute;
  top:50%;
  left:50%;
  width:3px;
  background:#000;
  transform-origin:50% 100%; /*vom Zentrum weg animieren*/
  opacity:0; /*Startzustand der Animation*/
}

/* Logo bewusst kleiner*/
.energy-intro-inner img{
  width:72%;
  height:auto;
  display:block;
  position:relative;
  z-index:2;
}

/* -------------------- Header ------------------------ */
.header{
  position:sticky;
  top:0;
  z-index:10;
  background:var(--dunkel);
  min-height:var(--header-h);
  padding:1.5rem;
  display:grid;
  gap:1rem;
  grid-template-columns:1fr auto;
  grid-template-areas:
    "title logo"
    "tabs date";
}

/*Container für Titel*/
.header-left-top{
  grid-area:title;
  padding:1.5rem;
}

/*Bereich für Energy Logo rechts oben*/
.header-right-top{
  grid-area:logo;
  display:flex;
  justify-content:flex-end;
  align-items:center;
  padding:0 1.5rem 0 0;
  z-index:20;
}

/*Modus und Zeitraum Auswahl*/
.header-left-bottom{
  grid-area:tabs;
  display:flex;
  gap:1.75rem;
  flex-wrap:wrap;
  align-items:center;
  padding:1.5rem;
}

/*Button für Auswahl Datum*/
.header-right-bottom{
  grid-area:date;
  display:flex;
  align-items:center;
  justify-content:flex-end;
  justify-self:end;
  padding:1.5rem;
}

h1{
  margin:0;
  font-weight:400;
  letter-spacing:.01875rem;
  font-size:1.25rem;
}

.logo{
  width:auto;
  height:100%;
  max-height:6rem;
}

/* ---------------- Auswahl-Buttons für Modus und Zeitraum ---------------- */
.mode-check-input,
.timespan-check-input{
  position:absolute;
  opacity:0;
  pointer-events:none;
}

.mode-check-label,
.timespan-check-label{
  color:var(--weiss);
  cursor:pointer;
  text-decoration:underline;
  text-underline-offset:.18em;
}

.mode-check-label{
  font-size:inherit;
}

.timespan-check-label{
  font-size:1.45rem;
}

/*aktiver Zustand mit roter Farbe und Unterstreichung markiert*/
.mode-check-input:checked + .mode-check-label,
.timespan-check-input:checked + .timespan-check-label{
  color:var(--rot);
  text-decoration-color:var(--rot);
}

/* ----- Kalender ------ */
#datepicker{
  border:none;
  outline:none;
  font-family:inherit;
  font-size:inherit;
  line-height:normal;
  background:var(--weiss);
  color:var(--dunkel);
  padding:.55rem .9rem;
  border-radius:999px;
  box-shadow:0 0.125rem 0 rgba(0,0,0,.15);
}


/* -------------------- Podium --------------------- */
.podium{
  position:sticky;
  z-index:10;
  max-width:68.75rem;
  margin:0 auto;
  background:transparent;
  color:var(--dunkel);
  padding:1rem 1rem 0;
  display:grid;
  grid-template-columns:repeat(3,1fr);
  align-items:end;
  height:calc(100vh - var(--header-h));
}

/*Viewport-Höhe wird unterstützt*/
@supports (height:100svh){
  .podium{
    height:calc(100svh - var(--header-h));
  }
}

/*einzelner Podestplatz*/
.podium article{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:flex-end;
  text-align:center;
  margin:0;
  align-self:end;
  opacity:0; /*Start für Animation*/
  transform:translateY(120px);
}

.podium-header{
  margin-bottom:.375rem;
}

.mode-title{
  margin:.2rem 0;
  font-size:1.5rem;
}

.artist-name{
  margin:0;
  font-size:.75rem;
  color:var(--dunkel);
}

/* Podium Body */
.podium-body{
  width:100%;
  background:var(--rot);
  border:.0625rem solid #000;
  border-radius:.45rem .45rem 0 0;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  overflow:hidden;
  min-height:10rem;
}

/*relative Höhen je nach Bildschirm Platz*/
.podium-box-1 .podium-body{ height:62%; }
.podium-box-2 .podium-body{ height:46%; }
.podium-box-3 .podium-body{ height:34%; }

/*dynamische Höhen bei Browsern*/
@supports (height:100svh){
  .podium-box-1 .podium-body{ height:calc((100svh - var(--header-h)) * .62); }
  .podium-box-2 .podium-body{ height:calc((100svh - var(--header-h)) * .46); }
  .podium-box-3 .podium-body{ height:calc((100svh - var(--header-h)) * .34); }
}

/*Anzahl Abspielungen*/
.plays{
  margin:0;
  font-size:clamp(1rem,3.5vw,1.5rem);
  color:var(--dunkel);
  text-shadow:none;
}

/* Sterne */
.star{
  width:clamp(5.25rem,22vw,9rem);
  aspect-ratio:1/1;
  background:var(--weiss);
  display:grid;
  place-items:center;
  clip-path:polygon(
    50% 0%,61% 35%,98% 35%,68% 57%,79% 91%,
    50% 70%,21% 91%,32% 57%,2% 35%,39% 35%
  );
}

.rank-number{
  font-size:2.5rem;
  color:var(--dunkel);
}

/* Konfetti-Hintergrundvideo */
#bg-video{
  position:fixed;
  inset:0;
  width:100vw;
  height:100vh;
  object-fit:cover;
  z-index:-10;
  pointer-events:none;
}

/* Stern auf Podium 1 soll vibrieren wegen Song */
@keyframes musicbox-pulse {
  0% {
    transform: scale(1) rotate(0deg);
  }
  20% {
    transform: scale(1.08) rotate(-4deg);
  }
  40% {
    transform: scale(1.02) rotate(0deg);
  }
  60% {
    transform: scale(1.1) rotate(4deg);
  }
  80% {
    transform: scale(1.03) rotate(0deg);
  }
  100% {
    transform: scale(1) rotate(0deg);
  }
}
 
.podium-box-1.is-playing .star { /*nur bei aktivem Song auf Podest 1*/
  animation: musicbox-pulse 1.7s cubic-bezier(0.34, 1.56, 0.64, 1) infinite;
  transform-origin: 50% 60%;
}


/* -------------------- Breakpoints ---------------- */
/*I-Pads und aufwärts*/
@media (min-width:37.5rem){
  h1{ font-size:1.75rem; }
}

/*Desktop*/
@media (min-width:64rem){
  h1{ font-size:2.5rem; }
  .mode-title{ font-size:1.875rem; }
  .artist-name{ font-size:1.125rem; }
}

/* -------------------- Smartphone ---------------- */
@media (max-width:30rem){
  /*Anpassung Intro auf kleinen Screens*/
  :root{
    --intro-nudge-y:-8px;
  }

  .energy-intro-inner{
    width:min(78vw,18rem);
    transform:scale(.65);
  }

  .header{
    padding:1rem;
    gap:.75rem;
    grid-template-columns:1fr;
    grid-template-areas:
      "logo"
      "title"
      "tabs"
      "date";
    justify-items:center;
    text-align:center;
  }

  .header-left-top{
    padding:.25rem 0;
  }

  h1{
    font-size:1.5rem;
  }

  .header-left-bottom{
    flex-direction:row;
    gap:1.5rem;
    padding:.25rem 0;
    justify-content:center;
  }

  .header-right-top{
    justify-content:center;
    padding:0;
  }

  .logo{
    width:3rem;
    height:auto;
  }

  .header-right-bottom{
    justify-content:center;
    width:100%;
    padding:.45rem 0;
  }

  .timespan-check-label{
    font-size:1.2rem;
  }

  #datepicker{
    padding:.2rem .75rem;
    font-size:.95rem;
    min-height:2.25rem;
    margin:0 auto;
  }
}

/*sehr kleine Geräte*/
@media (max-width:26.25rem){
  .header{ gap:.4rem; }
}
